<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>top Categories</title>
    <link rel="stylesheet" href="../css/topCategory.css" />
  </head>
  <body>
    <!-- shop by state  -->
    <div class="state-section">
      <div class="state-background">
        <!-- Slider -->
        <div class="state-carousel">
          <div class="state-slides" id="stateSlides">
            <!-- Slide 1 -->
            <div class="state-slide">
              <img src="../assets/Rectangle 349.png" alt="Andhra Pradesh" />

              <div class="state-content-box">
                <h3>Andhra Pradesh</h3>
                <p>
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                  Curabitur sodales risus a dui fringilla. Sed vehicula in lorem
                  quis ultrices sodales risus a dui fringilla. Sed vehicula in
                  lorem quis ultrices.
                </p>
                <button class="explore-now-btn">Explore Now</button>
              </div>
            </div>

            <!-- Slide 2 -->
            <div class="state-slide">
              <img src="../assets/Rectangle 349.png" alt="Rajasthan" />

              <div class="state-content-box">
                <h3>Rajasthan</h3>
                <p>
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                  Curabitur sodales risus a dui fringilla. Sed vehicula in lorem
                  quis ultrices sodales risus a dui fringilla. Sed vehicula in
                  lorem quis ultrices.
                </p>
                <button class="explore-now-btn">Explore Now</button>
              </div>
            </div>
            <!-- slide 3 -->
            <div class="state-slide">
              <img src="../assets/Rectangle 349.png" alt="Rajasthan" />

              <div class="state-content-box">
                <h3>Gujrat</h3>
                <p>
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                  Curabitur sodales risus a dui fringilla. Sed vehicula in lorem
                  quis ultrices sodales risus a dui fringilla. Sed vehicula in
                  lorem quis ultrices sodales risus a dui fringilla. Sed
                  vehicula in lorem quis ultrices.
                </p>
                <button class="explore-now-btn">Explore Now</button>
              </div>
            </div>

            <!-- slide 4 -->
            <div class="state-slide">
              <img src="../assets/Rectangle 349.png" alt="Rajasthan" />

              <div class="state-content-box">
                <h3>Madhya Pradesh</h3>
                <p>
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                  Curabitur sodales risus a dui fringilla. Sed vehicula in lorem
                  quis ultrices sodales risus a dui fringilla. Sed vehicula in
                  lorem quis ultrices sodales risus a dui fringilla. Sed
                  vehicula in lorem quis ultrices.
                </p>
                <button class="explore-now-btn">Explore Now</button>
              </div>
            </div>
          </div>
        </div>
        <div class="state-controls">
          <button class="state-arrow prev" onclick="changeStateSlide(-1)">
            <img src="../assets/CaretCircleLeft.png" alt="Previous" />
          </button>
          <button class="state-arrow next" onclick="changeStateSlide(1)">
            <img src="../assets/rightarrow.png" alt="Next" />
          </button>
        </div>
      </div>
    </div>

    <!-- Traditional Marketplace Section -->
    <div class="traditional-wrapper">
      <div class="marketplace-section">
        <div class="marketplace-content">
          <!-- Slide 1 Content -->
          <div class="content-slide active">
            <div class="heading-tag-for-section-marketplace">
              <div>Traditional Marketplace</div>
              <div class="heading-line-marketplace"></div>
            </div>
            <p>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque
              cursus risus sit amet velit scelerisque semper. Donec a elit
              dignissim, varius metus ut, varius leo. Sed vestibulum id erat sit
              amet posuere. Mauris tincidunt ut arcu vitae rhoncus. Nulla
              facilisi. Curabitur rutrum, ante ac convallis fringilla, ex ex
              varius lectus, sed semper sem dui at lorem. Pellentesque habitant.
            </p>
          </div>

          <!-- Slide 2 Content -->
          <div class="content-slide">
            <div class="heading-tag-for-section-marketplace">
              <div>Authentic Local Products</div>
              <div class="heading-line-marketplace"></div>
            </div>
            <p>
              Discover handcrafted items from local artisans. Each product tells
              a unique story of tradition and craftsmanship. Supporting local
              sellers helps preserve cultural heritage and promotes sustainable
              commerce. Browse through a curated selection of authentic goods
              made with care and dedication. Experience the richness of
              traditional marketplaces brought to your doorstep.
            </p>
          </div>

          <!-- Slide 3 Content -->
          <div class="content-slide">
            <div class="heading-tag-for-section-marketplace">
              <div>Join Our Community</div>
              <div class="heading-line-marketplace"></div>
            </div>
            <p>
              Connect with buyers and sellers in your area. Build meaningful
              relationships through trusted commerce. Our platform brings
              together people who value quality and authenticity. Share your
              passion for traditional crafts and products. Become part of a
              growing network that celebrates local businesses and cultural
              diversity.
            </p>
          </div>

          <button class="seller-btn">Become a Seller</button>
        </div>
        <div class="marketplace-image">
          <div class="carousel-container">
            <div class="carousel-slide active">
              <img
                src="../assets/market-place.png"
                alt="Traditional Marketplace 1"
              />
            </div>
            <div class="carousel-slide">
              <img
                src="../assets/image 1.png"
                alt="Traditional Marketplace 2"
              />
            </div>
            <div class="carousel-slide">
              <img
                src="../assets/market-place.png"
                alt="Traditional Marketplace 3"
              />
            </div>
          </div>
        </div>
      </div>
      <div class="marketplace-dots">
        <span class="dot-market active" data-slide="0"></span>
        <span class="dot-market" data-slide="1"></span>
        <span class="dot-market" data-slide="2"></span>
      </div>
    </div>

    <script>
      // traditional Marketplace Carousel

      let currentSlide = 0;
      const imageSlides = document.querySelectorAll(".carousel-slide");
      const contentSlides = document.querySelectorAll(".content-slide");
      const dots = document.querySelectorAll(".dot-market");
      const totalSlides = imageSlides.length;

      function showSlide(index) {
        // Remove active class from all slides and dots
        imageSlides.forEach((slide) => slide.classList.remove("active"));
        contentSlides.forEach((slide) => slide.classList.remove("active"));
        dots.forEach((dot) => dot.classList.remove("active"));

        // Add active class to current slide and dot
        imageSlides[index].classList.add("active");
        contentSlides[index].classList.add("active");
        dots[index].classList.add("active");
      }

      function nextSlide() {
        currentSlide = (currentSlide + 1) % totalSlides;
        showSlide(currentSlide);
      }

      // Auto-scroll every 2 seconds
      setInterval(nextSlide, 2000);

      // Optional: Add click functionality to dots
      dots.forEach((dot, index) => {
        dot.addEventListener("click", () => {
          currentSlide = index;
          showSlide(currentSlide);
        });
      });




      // State Carousel
      const stateSlides = document.getElementById("stateSlides");
      const stateSlideItems = document.querySelectorAll(".state-slide");

      const stateLeftArrow = document.querySelector(
        ".state-controls .state-arrow.prev"
      );
      const stateRightArrow = document.querySelector(
        ".state-controls .state-arrow.next"
      );

      let stateIndex = 0;

      function getStateSlideWidth() {
        return stateSlideItems[0].clientWidth;
      }

      function updateStateSlider() {
        const slideWidth = getStateSlideWidth();
        const totalSlides = stateSlideItems.length;

        // Slide move karna
        stateSlides.style.transform = `translateX(-${
          stateIndex * slideWidth
        }px)`;

        // Active class set karna â€“ yahi se animation trigger hoga
        stateSlideItems.forEach((slide, idx) => {
          if (idx === stateIndex) {
            slide.classList.add("active");
          } else {
            slide.classList.remove("active");
          }
        });

        // Left arrow state
        if (stateIndex === 0) {
          stateLeftArrow.classList.add("disabled");
        } else {
          stateLeftArrow.classList.remove("disabled");
        }

        // Right arrow state
        if (stateIndex === totalSlides - 1) {
          stateRightArrow.classList.add("disabled");
        } else {
          stateRightArrow.classList.remove("disabled");
        }
        
      }

      function changeStateSlide(direction) {
        const totalSlides = stateSlideItems.length;

        stateIndex += direction;

        if (stateIndex < 0) stateIndex = 0;
        if (stateIndex > totalSlides - 1) stateIndex = totalSlides - 1;

        updateStateSlider();

        // Restart auto-scroll after manual click
        restartStateAutoScroll();
      }

      updateStateSlider();
      window.addEventListener("resize", updateStateSlider);

      // Auto-scroll for State Carousel
      let stateAutoScrollInterval;

      function startStateAutoScroll() {
        stateAutoScrollInterval = setInterval(() => {
          const totalSlides = stateSlideItems.length;

          stateIndex++;

          if (stateIndex >= totalSlides) {
            stateIndex = 0;
          }

          updateStateSlider();
        }, 2000); // 2000ms = 2 seconds
      }

      function stopStateAutoScroll() {
        clearInterval(stateAutoScrollInterval);
      }

      function restartStateAutoScroll() {
        stopStateAutoScroll();
        startStateAutoScroll();
      }

      // Start auto-scroll on page load
      startStateAutoScroll();
    </script>

    <script src="../javascript/topCategory.js"></script>
  </body>
</html>
